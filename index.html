<!DOCTYPE html>
<html lang="en">
<head>
<title>Agenda du someil</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" type="image/x-icon" href="/images/favicon/favicon.ico">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-colors-flat.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./css/dist/charts.min.css">
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="css/2.css">

<!-- includes nécessaires -->
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="js/github_contribution.js"></script>
<link href="css/github_contribution_graph.css" media="all" rel="stylesheet" />

<!-- GOOGLE charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript" src="script/myCalendarGoogleChart.js"></script>
</head>


<body>
<!-- 
<div class="w3-top">
  <div class="w3-bar w3-gray w3-card w3-left-align w3-large">

    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-gray" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large w3-white">Home</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Link 1</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Link 2</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Link 3</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Link 4</a>
  </div>

  <!-- Navbar on small screens 
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 1</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 2</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 3</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Link 4</a>
  </div>
</div>
-->

<!-- Header -->
<header class="w3-container w3-flat-midnight-blue w3-center" style="padding:128px 16px">
  <h1 class="w3-margin w3-jumbo"><b class="grad">L'agenda du sommeil</b></h1>
  <!--<p class="w3-xlarge">Template by w3.css</p>-->
  <!--
  <button class="w3-button w3-black w3-padding-large w3-large w3-margin-top">Get Started</button>
-->
<a href="https://forms.office.com/pages/responsepage.aspx?id=38LMHEUak0mSkfx55QCPJv0cq-8H7QFFu9-aymCyDgNURFNBWlRTNU5IT0ZTRFczRklRQlVRRjlDNy4u"><button class="bn632-hover bn18">Nouvelle entr&eacute;e</button></a><a href="https://forms.office.com/pages/responsepage.aspx?id=38LMHEUak0mSkfx55QCPJv0cq-8H7QFFu9-aymCyDgNURElFQjJPMFFMQjcxQk5DNzhaM05ZR0tQRS4u"><button class="bn632-hover bn20">Ouvrir une issue</button></a>

</header>

<!-- First Grid -->
<!-- Le formulaire emmbed
<div class="w3-row-padding  w3-container">
  <div class="w3-content">
    <div class="w3-twothird">
      <h1>L'agenda</h1>
      <h5 class="w3-padding-32">Ci-dessous l'agenda à remplir depuis le site</h5>

      <iframe width="650px" height="800px" src="https://forms.office.com/Pages/ResponsePage.aspx?id=38LMHEUak0mSkfx55QCPJv0cq-8H7QFFu9-aymCyDgNURFNBWlRTNU5IT0ZTRFczRklRQlVRRjlDNy4u&embed=true" frameborder="0" marginwidth="0" marginheight="0" style="border: none; max-width:100%; max-height:100vh" allowfullscreen webkitallowfullscreen mozallowfullscreen msallowfullscreen> </iframe>
    </div>

    <div class="w3-third w3-center">
      <i class="fa fa-anchor  w3-text-red"></i>
    </div>
  </div>
</div>
-->

<!-- Second Grid -->
<div class="w3-row-padding w3-flat-midnight-blue w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">
    </div>

    <div class="w3-center">
      <h1 class = 'grad'>Les issues</h1>
      <div id="github-issues"></div>
    </div>
  </div>
</div>

<!-- Google cal google-->
<!--
<div class="w3-row-padding w3-light-grey  w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">

    </div>

    <div class="w3-twothird">
      <h1 class = 'grad'>Les stats</h1>
      <h5 class="w3-padding-32"></h5>

      <div id="calendar_basic" style="width: 5000px; height: 350px;"></div>


    </div>
  </div>
</div>
-->





<!-- 4rd Grid -->
<!-- 3rd Grid -->
<div class="w3-row-padding w3-flat-midnight-blue  w3-container">
  <div class="w3-content">

    <div class="w3-center" >
      <h1 class = 'grad'>Les stats</h1>

        <div id="container" class="resp"></div>
        
    <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.3.3/dist/echarts.min.js"></script>

  <!-- https://echarts.apache.org/en/theme-builder.html 
    <script type="text/javascript" src="js/themes/roma.js"></script> 
  <script type="text/javascript" src="js/themes/halloween.js"></script> -->
    <script type="text/javascript" src="js/themes/purple-passion.js"></script>

  <script type="text/javascript" src="js/apachecal.js">  </script>
    </div>
  </div>
</div>

























<!-- Footer -->
<footer class="w3-container w3-flat-midnight-blue w3-center w3-opacity">
  <div class="w3-xlarge w3-padding-32">
    <a href="https://github.com/YiffyC/yiffyc.github.io" target="_blank"><i class="fa fa-github w3-hover-opacity grad"></i></a>
 </div>
</footer>

<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
  var x = document.getElementById("navDemo");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else {
    x.className = x.className.replace(" w3-show", "");
  }
}
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    //récupérer les issues
    var urlToGetAllOpenBugs = "https://api.github.com/repos/YiffyC/Agenda-du-so/issues?state=open";


    $(document).ready(function () {
        $.getJSON(urlToGetAllOpenBugs, function (allIssues) {
            $("div#github-issues").append("<h5>Il y a  " + allIssues.length + "  issues en cours actuellement:</h5></br>");
            $.each(allIssues, function (i, issue) {


                // Get assignee (if applicable)
                var assigneeName = "YiffyC";
                if (issue.assignee) {
                    assigneeName = issue.assignee.login;
                }


                // Calculate number of days ago created
                var today = new Date();
                var timeDifference = today - Date.parse(issue.created_at);
                var daysAgo = (timeDifference / (1000 * 3600 * 24)).toFixed();


                $("div#github-issues")
                    .append("<div style=\"margin-bottom:20px;\">")
                    .append("<strong><a class='grad' href=\"" + issue.html_url + "\">" + issue.title + "</a></strong></br>")
                    .append(" Ouvert il y a  " + daysAgo + " Jours, ")
                    .append("assign&eacute; &agrave;: " + assigneeName)
                    .append("</div>");
            });
        });
    });
</script>

</body>
</html>
